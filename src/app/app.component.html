<mat-toolbar color="primary">ngSketchr</mat-toolbar>
<mat-drawer-container class="example-container">
	<mat-drawer mode="side" opened="true">
		<div>
			<h3>Background Color</h3>
			<div class="square trans" (click)="backgroundColor = null"></div>
			<div class="square white" (click)="backgroundColor = 'white'"></div>
			<div class="square cyan" (click)="backgroundColor = 'cyan'"></div>
			<div class="square magenta" (click)="backgroundColor = 'magenta'"></div>
			<div class="square yellow" (click)="backgroundColor = 'yellow'"></div>
		</div>
		<div>
			<input type="file" (change)="onFileChange($event)">
			<button type="button" (click)="backgroundImage = null">Clear</button>
			<select [(ngModel)]="backgroundMode">
				<option value="fit">Fit</option>
				<option value="fill">Fill</option>
			</select>
		</div>
		<div *ngFor="let color of colors">
			<div *ngFor="let size of ['large', 'medium', 'small']"
				class="circle {{ size }} {{ color }}"
				(click)="setColor(color, sizes[size])">{{ color }}</div>
		</div>
		<button [disabled]="!canUndo" (click)="replay()">Replay</button>
		<button [disabled]="!canUndo && !canRedo" (click)="reset()">Reset</button>
		<button [disabled]="!canUndo" (click)="canvas.undo()">Undo</button>
		<button [disabled]="!canRedo" (click)="canvas.redo()">Redo</button>
	</mat-drawer>
	<mat-drawer-content>
		<div class="frame">
			<app-canvas #mycanvas
				width="{{ width }}"
				height="{{ height }}"
				color="{{ color }}"
				size="{{ size }}"
				[backgroundColor]="backgroundColor"
				[backgroundImage]="backgroundImage"
				[backgroundMode]="backgroundMode"
				(canUndo)="canUndo = $event"
				(canRedo)="canRedo = $event"></app-canvas>
		</div>
		<div>
			<a href="{{ canUndo ? canvas.downloadUri : '' }}"
				[download]="'image.png'">Download</a>
		</div>
	</mat-drawer-content>
</mat-drawer-container>
